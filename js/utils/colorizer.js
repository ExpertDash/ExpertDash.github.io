/**
 * Converts a color value from one CSS format to another
 * @param value Color value in original format
 * @param from Original format
 * @param to Target format
 * @returns Color value in target format
 */
export function convert(value, from, to) {
    let r, g, b;
    switch (from) {
        case "hex":
            [r, g, b] = value
                .match(/#([0-9a-fA-F][0-9a-fA-F])([0-9a-fA-F][0-9a-fA-F])([0-9a-fA-F][0-9a-fA-F])/)
                .slice(1)
                .map(v => parseInt(`0x${v}`));
            break;
        case "hsl": {
            let sep = value.indexOf(",") > -1 ? "," : " ";
            let v = value.substr(4).split(")")[0].split(sep);
            let h = parseFloat(v[0]);
            let s = parseFloat(v[1].slice(0, -1)) / 100;
            let l = parseFloat(v[2].slice(0, -1)) / 100;
            let c = (1 - Math.abs(2 * l - 1)) * s;
            let x = c * (1 - Math.abs((h / 60) % 2 - 1));
            let m = l - c / 2;
            if (0 <= h && h < 60)
                [r, g, b] = [c, x, 0];
            else if (60 <= h && h < 120)
                [r, g, b] = [x, c, 0];
            else if (120 <= h && h < 180)
                [r, g, b] = [0, c, x];
            else if (180 <= h && h < 240)
                [r, g, b] = [0, x, c];
            else if (240 <= h && h < 300)
                [r, g, b] = [x, 0, c];
            else if (300 <= h && h < 360)
                [r, g, b] = [c, 0, x];
            r = Math.round((r + m) * 255);
            g = Math.round((g + m) * 255);
            b = Math.round((b + m) * 255);
            break;
        }
        case "rgb":
            [r, g, b] = value
                .match(/rgb\((\d+)\s+,\s+(\d+)\s+,\s+(\d+)\s+\)/)
                .slice(1)
                .map(v => parseInt(v));
            break;
        default:
            throw new Error(`Invalid color format '${from}'`);
    }
    switch (to) {
        case "hex":
            function toHex(i) {
                let v = i.toString(16);
                return v.length == 1 ? `0${v}` : v;
            }
            return `#${toHex(r)}${toHex(g)}${toHex(b)}`;
        case "hsl": {
            r /= 255;
            g /= 255;
            b /= 255;
            let cmin = Math.min(r, g, b);
            let cmax = Math.max(r, g, b);
            let delta = cmax - cmin;
            let h, s, l;
            if (delta == 0)
                h = 0;
            else if (cmax == r)
                h = ((g - b) / delta) % 6;
            else if (cmax == g)
                h = (b - r) / delta + 2;
            else
                h = (r - g) / delta + 4;
            h = Math.round(h * 60);
            if (h < 0)
                h += 360;
            l = (cmax + cmin) / 2;
            s = delta == 0 ? 0 : delta / (1 - Math.abs(2 * l - 1));
            return `hsl(${h}, ${+(s * 100).toFixed(1)}%, ${+(l * 100).toFixed(1)}%)`;
        }
        case "rgb":
            return `rgb(${r}, ${g}, ${b})`;
        default:
            throw new Error(`Invalid color format '${to}'`);
    }
}
export function* wheel(count, format = "hex") {
    count = Math.max(1, count);
    for (let i = 0; i < count; i++) {
        let color = `hsl(${i * (360 / count) % 360}, 100%, 50%)`;
        yield convert(color, "hsl", format);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sb3JpemVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3V0aWxzL2NvbG9yaXplci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTs7Ozs7O0dBTUc7QUFDSCxNQUFNLFVBQVUsT0FBTyxDQUFDLEtBQWEsRUFBRSxJQUFpQixFQUFFLEVBQWU7SUFDeEUsSUFBSSxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVMsQ0FBQTtJQUVuQyxRQUFPLElBQUksRUFBRTtRQUNaLEtBQUssS0FBSztZQUNULENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxLQUFLO2lCQUNmLEtBQUssQ0FBQywyRUFBMkUsQ0FBQztpQkFDbEYsS0FBSyxDQUFDLENBQUMsQ0FBQztpQkFDUixHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7WUFDOUIsTUFBSztRQUNOLEtBQUssS0FBSyxDQUFDLENBQUM7WUFDWCxJQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztZQUM5QyxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7WUFFakQsSUFBSSxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQ3hCLElBQUksQ0FBQyxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFBO1lBQzNDLElBQUksQ0FBQyxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFBO1lBRTNDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQTtZQUNyQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQTtZQUM1QyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQTtZQUVqQixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUU7Z0JBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtpQkFDdEMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxHQUFHO2dCQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7aUJBQzdDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRztnQkFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO2lCQUM5QyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUc7Z0JBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMs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QUFDRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsidHlwZSBDb2xvckZvcm1hdCA9IFwiaGV4XCIgfCBcImhzbFwiIHwgXCJyZ2JcIlxuXG4vKipcbiAqIENvbnZlcnRzIGEgY29sb3IgdmFsdWUgZnJvbSBvbmUgQ1NTIGZvcm1hdCB0byBhbm90aGVyXG4gKiBAcGFyYW0gdmFsdWUgQ29sb3IgdmFsdWUgaW4gb3JpZ2luYWwgZm9ybWF0XG4gKiBAcGFyYW0gZnJvbSBPcmlnaW5hbCBmb3JtYXRcbiAqIEBwYXJhbSB0byBUYXJnZXQgZm9ybWF0XG4gKiBAcmV0dXJucyBDb2xvciB2YWx1ZSBpbiB0YXJnZXQgZm9ybWF0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0KHZhbHVlOiBzdHJpbmcsIGZyb206IENvbG9yRm9ybWF0LCB0bzogQ29sb3JGb3JtYXQpOiBzdHJpbmcge1xuXHRsZXQgcjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlclxuXG5cdHN3aXRjaChmcm9tKSB7XG5cdFx0Y2FzZSBcImhleFwiOlxuXHRcdFx0W3IsIGcsIGJdID0gdmFsdWVcblx0XHRcdFx0Lm1hdGNoKC8jKFswLTlhLWZBLUZdWzAtOWEtZkEtRl0pKFswLTlhLWZBLUZdWzAtOWEtZkEtRl0pKFswLTlhLWZBLUZdWzAtOWEtZkEtRl0pLylcblx0XHRcdFx0LnNsaWNlKDEpXG5cdFx0XHRcdC5tYXAodiA9PiBwYXJzZUludChgMHgke3Z9YCkpXG5cdFx0XHRicmVha1xuXHRcdGNhc2UgXCJoc2xcIjoge1xuXHRcdFx0bGV0IHNlcCA9IHZhbHVlLmluZGV4T2YoXCIsXCIpID4gLTEgPyBcIixcIiA6IFwiIFwiO1xuXHRcdFx0bGV0IHYgPSB2YWx1ZS5zdWJzdHIoNCkuc3BsaXQoXCIpXCIpWzBdLnNwbGl0KHNlcCk7XG5cblx0XHRcdGxldCBoID0gcGFyc2VGbG9hdCh2WzBdKVxuXHRcdFx0bGV0IHMgPSBwYXJzZUZsb2F0KHZbMV0uc2xpY2UoMCwgLTEpKSAvIDEwMFxuXHRcdFx0bGV0IGwgPSBwYXJzZUZsb2F0KHZbMl0uc2xpY2UoMCwgLTEpKSAvIDEwMFxuXG5cdFx0XHRsZXQgYyA9ICgxIC0gTWF0aC5hYnMoMiAqIGwgLSAxKSkgKiBzXG5cdFx0XHRsZXQgeCA9IGMgKiAoMSAtIE1hdGguYWJzKChoIC8gNjApICUgMiAtIDEpKVxuXHRcdFx0bGV0IG0gPSBsIC0gYyAvIDJcblxuXHRcdFx0aWYgKDAgPD0gaCAmJiBoIDwgNjApIFtyLCBnLCBiXSA9IFtjLCB4LCAwXVxuXHRcdFx0ZWxzZSBpZiAoNjAgPD0gaCAmJiBoIDwgMTIwKSBbciwgZywgYl0gPSBbeCwgYywgMF1cblx0XHRcdGVsc2UgaWYgKDEyMCA8PSBoICYmIGggPCAxODApIFtyLCBnLCBiXSA9IFswLCBjLCB4XVxuXHRcdFx0ZWxzZSBpZiAoMTgwIDw9IGggJiYgaCA8IDI0MCkgW3IsIGcsIGJdID0gWzAsIHgsIGNdXG5cdFx0XHRlbHNlIGlmICgyNDAgPD0gaCAmJiBoIDwgMzAwKSBbciwgZywgYl0gPSBbeCwgMCwgY11cblx0XHRcdGVsc2UgaWYgKDMwMCA8PSBoICYmIGggPCAzNjApIFtyLCBnLCBiXSA9IFtjLCAwLCB4XVxuXHRcdFx0XG5cdFx0XHRyID0gTWF0aC5yb3VuZCgociArIG0pICogMjU1KTtcblx0XHRcdGcgPSBNYXRoLnJvdW5kKChnICsgbSkgKiAyNTUpO1xuXHRcdFx0YiA9IE1hdGgucm91bmQoKGIgKyBtKSAqIDI1NSk7XG5cdFx0XHRicmVha1xuXHRcdH1cblx0XHRjYXNlIFwicmdiXCI6XG5cdFx0XHRbciwgZywgYl0gPSB2YWx1ZVxuXHRcdFx0XHQubWF0Y2goL3JnYlxcKChcXGQrKVxccyssXFxzKyhcXGQrKVxccyssXFxzKyhcXGQrKVxccytcXCkvKVxuXHRcdFx0XHQuc2xpY2UoMSlcblx0XHRcdFx0Lm1hcCh2ID0+IHBhcnNlSW50KHYpKVxuXHRcdFx0YnJlYWtcblx0XHRkZWZhdWx0OlxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGNvbG9yIGZvcm1hdCAnJHtmcm9tfSdgKVxuXHR9XG5cblx0c3dpdGNoKHRvKSB7XG5cdFx0Y2FzZSBcImhleFwiOlxuXHRcdFx0ZnVuY3Rpb24gdG9IZXgoaTogbnVtYmVyKTogc3RyaW5nIHtcblx0XHRcdFx0bGV0IHYgPSBpLnRvU3RyaW5nKDE2KVxuXHRcdFx0XHRyZXR1cm4gdi5sZW5ndGggPT0gMSA/IGAwJHt2fWAgOiB2XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBgIyR7dG9IZXgocil9JHt0b0hleChnKX0ke3RvSGV4KGIpfWBcblx0XHRjYXNlIFwiaHNsXCI6IHtcblx0XHRcdHIgLz0gMjU1XG5cdFx0XHRnIC89IDI1NVxuXHRcdFx0YiAvPSAyNTVcblxuXHRcdFx0bGV0IGNtaW4gPSBNYXRoLm1pbihyLCBnLCBiKVxuXHRcdFx0bGV0IGNtYXggPSBNYXRoLm1heChyLCBnLCBiKVxuXHRcdFx0bGV0IGRlbHRhID0gY21heCAtIGNtaW5cblx0XHRcdFxuXHRcdFx0bGV0IGg6IG51bWJlciwgczogbnVtYmVyLCBsOiBudW1iZXJcblxuXHRcdFx0aWYoZGVsdGEgPT0gMCkgaCA9IDBcblx0XHRcdGVsc2UgaWYoY21heCA9PSByKSBoID0gKChnIC0gYikgLyBkZWx0YSkgJSA2XG5cdFx0XHRlbHNlIGlmKGNtYXggPT0gZykgaCA9IChiIC0gcikgLyBkZWx0YSArIDJcblx0XHRcdGVsc2UgaCA9IChyIC0gZykgLyBkZWx0YSArIDRcblxuXHRcdFx0aCA9IE1hdGgucm91bmQoaCAqIDYwKVxuXG5cdFx0XHRpZihoIDwgMClcblx0XHRcdFx0aCArPSAzNjA7XG5cblx0XHRcdGwgPSAoY21heCArIGNtaW4pIC8gMlxuXHRcdFx0cyA9IGRlbHRhID09IDAgPyAwIDogZGVsdGEgLyAoMSAtIE1hdGguYWJzKDIgKiBsIC0gMSkpXG5cblx0XHRcdHJldHVybiBgaHNsKCR7aH0sICR7KyhzICogMTAwKS50b0ZpeGVkKDEpfSUsICR7KyhsICogMTAwKS50b0ZpeGVkKDEpfSUpYFxuXHRcdH1cblx0XHRjYXNlIFwicmdiXCI6XG5cdFx0XHRyZXR1cm4gYHJnYigke3J9LCAke2d9LCAke2J9KWBcblx0XHRkZWZhdWx0OlxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGNvbG9yIGZvcm1hdCAnJHt0b30nYClcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24qIHdoZWVsKGNvdW50OiBudW1iZXIsIGZvcm1hdDogQ29sb3JGb3JtYXQgPSBcImhleFwiKTogSXRlcmFibGVJdGVyYXRvcjxzdHJpbmc+IHtcblx0Y291bnQgPSBNYXRoLm1heCgxLCBjb3VudClcblxuXHRmb3IobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuXHRcdGxldCBjb2xvciA9IGBoc2woJHtpICogKDM2MCAvIGNvdW50KSAlIDM2MH0sIDEwMCUsIDUwJSlgXG5cdFx0eWllbGQgY29udmVydChjb2xvciwgXCJoc2xcIiwgZm9ybWF0KVxuXHR9XG59Il19